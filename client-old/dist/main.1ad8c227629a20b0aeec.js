(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+5Qc":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Fsga");e.PageChapter=r.PageChapter;var u=a("D3Ze");e.PageHome=u.PageHome;var n=a("YXti");e.PageStoryList=n.PageStoryList},"/7QA":function(t,e,a){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});a("Hglc");var u=r(a("nSJ7")),n=a("+5Qc");u.default.route(document.body,"/home/1",{"/home/:key":n.PageHome,"/story/:id/:page":{onmatch:function(){return n.PageChapter},render:function(t){return t.key=window.location.hash,t}},"/author/:id/:page":{onmatch:function(){return n.PageStoryList},render:function(t){return t.key=window.location.hash,t.attrs.type="author",t}},"/origin/:id/:page":{onmatch:function(){return n.PageStoryList},render:function(t){return t.key=window.location.hash,t.attrs.type="origin",t}},"/tag/:id/:page":{onmatch:function(){return n.PageStoryList},render:function(t){return t.key=window.location.hash,t.attrs.type="tag",t}}})},"3AYW":function(t,e,a){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(a("nSJ7")),n=a("fdqv"),o=a("7eDr"),i=a("aiD7"),d=function(){function t(){}return t.prototype.view=function(t){var e=[];if(null!=t.attrs.api){var a=t.attrs.api;a.data.stories.forEach(function(t,a){e.push(u.default(i.ComponentStory,{key:t.id+"-story",story:t})),e.push(u.default("hr",{key:t.id+"-hr"}))});var r="/"+t.attrs.url+"/"+(1==t.attrs.page?1:t.attrs.page-1),d="/"+t.attrs.url+"/"+(t.attrs.page+1);e.push(u.default("div",{key:"pagination",pagination:!0},[u.default(u.default.route.Link,{pager:"left "+(1==t.attrs.page?"disabled":""),href:r,onclick:function(){return u.default.route.set(r,null,{state:{key:r}})}},"prev"),u.default("p",{page:!0},t.attrs.page+" / "+n.humanize(a.data.pages)),u.default(u.default.route.Link,{pager:"right "+(t.attrs.page==a.data.pages?"disabled":""),href:d,onclick:function(){return u.default.route.set(d,null,{state:{key:d}})}},"next")]))}return u.default(o.ComponentMain,e)},t}();e.ComponentStoryList=d},"5G8z":function(t,e,a){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var u=r(a("5YMW")),n=function(){function t(){this.darkMode=!1;var t=u.get("darkMode");null!=t&&(this.darkMode="true"===t,this.darkMode&&document.body.setAttribute("theme",this.darkMode?"dark":"light"))}return t.prototype.inverse=function(){this.darkMode=!this.darkMode,u.set("darkMode",this.darkMode.toString(),{expires:7,sameSite:"strict"}),document.body.setAttribute("theme",this.darkMode?"dark":"light")},t}();e.state=new n},"7eDr":function(t,e,a){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(a("nSJ7")),n=a("psSV"),o=a("gjBn"),i=function(){function t(){}return t.prototype.view=function(t){return[u.default("div",{grid:"auto"},[u.default("div",{"grid-column":"1"}),u.default("div",{"grid-column":"10 max",shadow:!0},[u.default(o.ComponentNavbar),u.default("div",{"l-bg":"gray-100","d-bg":"black-700",pad:"content"},t.children),u.default(n.ComponentFooter)]),u.default("div",{"grid-column":"1"})])]},t}();e.ComponentMain=i},D3Ze:function(t,e,a){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(a("nSJ7")),n=a("3AYW"),o=function(){function t(){this.api=null}return t.prototype.oninit=function(t){var e=this,a=Number(u.default.route.param("key"));a<=0&&(a=1),u.default.request({url:"/api/stories/:page",params:{page:a}}).then(function(t){e.api=t}).catch(function(t){console.error(t)})},t.prototype.view=function(t){var e=Number(u.default.route.param("key"));return e<=0&&(e=1),document.title=e+" | home | stry",u.default(n.ComponentStoryList,{api:this.api,page:e,url:"home"})},t}();e.PageHome=o},Fsga:function(t,e,a){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(a("nSJ7")),n=r(a("DlQD")),o=a("fdqv"),i=a("7eDr"),d=a("aiD7"),l=function(){function t(){this.api=null}return t.prototype.fetch=function(t,e){var a=this;e<=0&&(e=1),u.default.request({url:"/api/story/:id/chapter/:page",params:{id:t,page:e}}).then(function(t){a.api=t}).catch(function(t){console.error(t)})},t.prototype.oninit=function(t){var e=Number(u.default.route.param("page"));e<=0&&(e=1),this.fetch(u.default.route.param("id"),e)},t.prototype.view=function(t){var e=this;if(null!=this.api){var a=this.api.data,r=Number(u.default.route.param("page"));r<=0&&(r=1),document.title=r+" | "+a.story.name+" | stry";var l="/story/"+u.default.route.param("id")+"/"+(1==r?1:r-1),f="/story/"+u.default.route.param("id")+"/"+(r==a.story.chapters?r:r+1);return u.default(i.ComponentMain,[u.default(d.ComponentStory,{story:a.story}),u.default("hr"),u.default("p","Chapter "+r+": "+a.chapter.name),u.default("hr"),u.default("div",{pad:"p"},[u.default.trust(n.default(a.chapter.raw))]),u.default("hr"),u.default("div",{pagination:!0},[u.default(u.default.route.Link,{pager:"left "+(1==r?"disabled":""),href:l,onclick:function(){window.scrollTo({top:0,behavior:"smooth"}),u.default.route.set(l,null,{state:{key:l}}),e.fetch(u.default.route.param("id"),1==r?1:r-1)}},"prev"),u.default("p",{page:!0},r+" / "+o.humanize(a.story.chapters)),u.default(u.default.route.Link,{pager:"right "+(r==a.story.chapters?"disabled":""),href:f,onclick:function(){null!=e.api&&(window.scrollTo({top:0,behavior:"smooth"}),u.default.route.set(f,null,{state:{key:f}}),e.fetch(u.default.route.param("id"),r==a.story.chapters?r:r+1))}},"next")])])}return[]},t}();e.PageChapter=l},YXti:function(t,e,a){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(a("nSJ7")),n=a("fdqv"),o=a("7eDr"),i=a("aiD7"),d=function(){function t(){this.data=null}return t.prototype.fetch=function(t,e,a){var r=this;a<=0&&(a=1),u.default.request({url:"/api/:type/:id/:page",params:{type:t,id:e,page:a}}).then(function(t){r.data=t}).catch(function(t){console.error(t)})},t.prototype.oninit=function(t){var e=Number(u.default.route.param("page"));this.fetch(u.default.route.param("type"),u.default.route.param("id"),e)},t.prototype.view=function(t){var e=this,a=Number(u.default.route.param("page"));a<=0&&(a=1);var r=[];if(null!=this.data){var d=this.data;d.data.stories.forEach(function(t,e){r.push(u.default(i.ComponentStory,{key:t.id+"-story",story:t})),r.push(u.default("hr",{key:t.id+"-hr"}))}),document.title=a+" | "+u.default.route.param("type")+" | stry";var l="/"+u.default.route.param("type")+"/"+u.default.route.param("id")+"/"+(1==a?1:a-1),f="/"+u.default.route.param("type")+"/"+u.default.route.param("id")+"/"+(a==d.data.count?a:a+1);r.push(u.default("div",{key:"pagination",pagination:!0},[u.default(u.default.route.Link,{pager:"left "+(1==a?"disabled":""),href:l,onclick:function(){window.scrollTo({top:0,behavior:"smooth"}),u.default.route.set(l,null,{state:{key:l}}),e.fetch(u.default.route.param("type"),u.default.route.param("id"),1==a?1:a-1)}},"prev"),u.default("p",{page:!0},a+" / "+n.humanize(d.data.pages)),u.default(u.default.route.Link,{pager:"right "+(a==d.data.pages?"disabled":""),href:f,onclick:function(){window.scrollTo({top:0,behavior:"smooth"}),u.default.route.set(f,null,{state:{key:f}}),e.fetch(u.default.route.param("type"),u.default.route.param("id"),a==d.data.count?a:a+1)}},"next")]))}return u.default(o.ComponentMain,r)},t}();e.PageStoryList=d},aiD7:function(t,e,a){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(a("ubkq")),n=r(a("nSJ7")),o=a("fdqv"),i=function(){function t(){}return t.prototype.view=function(t){var e=[];t.attrs.story.authors.forEach(function(a,r){e.push(n.default(n.default.route.Link,{key:a.id+"-author",href:"/author/"+a.id+"/1"},a.name)),r!=t.attrs.story.authors.length-1&&e.push(", ")});var a=[];return t.attrs.story.origins.forEach(function(e,r){a.push(n.default(n.default.route.Link,{key:e.id+"-author",href:"/origin/"+e.id+"/1"},e.name)),r!=t.attrs.story.origins.length-1&&a.push(n.default("span",{key:e.id+"-span"},", "))}),n.default("div",{panel:!0},[n.default("div",{head:!0,flex:!0},[n.default("div",{flex:!0,"flex-item":"grow"},[n.default("div",{square:!0,"mar-right":"normal"},[n.default("div",{part:"top left",bg:function(e){switch(t.attrs.story.square.rating){case"explicit":return"black-500";case"mature":return"red-500";case"teen":return"green-600";default:return"gray-700"}}()}),n.default("div",{part:"top right",bg:function(e){switch(t.attrs.story.square.warnings){case"using":return"orange-500";default:return"gray-700"}}()}),n.default("div",{part:"bottom center",bg:function(e){switch(t.attrs.story.square.state){case"completed":return"green-600";case"in-progress":return"blue-500";case"hiatus":return"purple-500";default:return"red-500"}}()})]),n.default("div",[n.default("h3",[n.default(n.default.route.Link,{href:"/story/"+t.attrs.story.id+"/1"},t.attrs.story.name)," by ",e]),n.default("p",a)])]),n.default("p",{"flex-item":"grow",txt:"right"},u.default(t.attrs.story.updated,"mmm d, yyyy"))]),n.default("div",{body:!0},[n.default("p",t.attrs.story.summary),n.default("div",{"label-list":!0},[t.attrs.story.tags.map(function(t){return n.default(n.default.route.Link,{key:t.id,label:!0,href:"/tag/"+t.id+"/1",bg:function(e){switch(t.type){case"warning":return"red-500";case"paring":return"orange-500";case"character":return"purple-500";default:return"gray-700"}}()},t.name)})])]),n.default("div",{foot:!0},[n.default("div",{flex:!0},[n.default("p",{"flex-item":"grow",txt:"small"},""),n.default("p",{"flex-item":"grow",txt:"small right"},t.attrs.story.language+" | "+o.humanize(t.attrs.story.words)+" words | "+o.humanize(t.attrs.story.chapters)+" chapters")])])])},t}();e.ComponentStory=i},fdqv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.humanize=function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),e.join(".")}},gjBn:function(t,e,a){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(a("nSJ7")),n=a("5G8z"),o=function(){function t(){}return t.prototype.view=function(t){return[u.default("nav",{nav:"primary",flex:"grow",bg:"black-800"},[u.default("div",{"nav-section":"grow"},[u.default("div",{"nav-item":"brand"},[u.default(u.default.route.Link,{href:"/home/1"},"stry")])]),u.default("div",{"nav-section":!0},[u.default("input",{"nav-item":!0,type:"search",placeholder:"search",bg:n.state.darkMode?"black-700":"white-200"})])]),u.default("nav",{nav:"secondary",flex:"grow",bg:"blue-500"},[u.default("div",{"nav-section":"grow"},[u.default("div",{"nav-item":!0},[u.default(u.default.route.Link,{href:"/list/author"},"authors")]),u.default("div",{"nav-item":!0},[u.default(u.default.route.Link,{href:"/list/origin"},"origins")]),u.default("div",{"nav-item":!0},[u.default(u.default.route.Link,{href:"/list/warning"},"warnings")]),u.default("div",{"nav-item":!0},[u.default(u.default.route.Link,{href:"/list/pairing"},"pairings")]),u.default("div",{"nav-item":!0},[u.default(u.default.route.Link,{href:"/list/character"},"characters")]),u.default("div",{"nav-item":!0},[u.default(u.default.route.Link,{href:"/list/tag"},"tags")])])])]},t}();e.ComponentNavbar=o},psSV:function(t,e,a){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(a("nSJ7")),n=a("5G8z"),o=function(){function t(){}return t.prototype.view=function(t){return[u.default("div",{nav:"primary",flex:"grow",bg:"black-800"},[u.default("div",{"nav-section":"grow"},[u.default("div",{"nav-item":!0},[u.default("div","mode: ")]),u.default("div",{"nav-item":!!n.state.darkMode||"brand"},[u.default("a",{onclick:function(){n.state.inverse()}},"light")]),u.default("div",{"nav-item":!n.state.darkMode||"brand"},[u.default("a",{onclick:function(){n.state.inverse()}},"dark")])]),u.default("div",{"nav-section":!0},[u.default("div",{"nav-item":"brand"},[u.default(u.default.route.Link,{href:"/home/1"},"v2.1.0-fab195f-modified")])])])]},t}();e.ComponentFooter=o}},[["/7QA",5,4,6,0,1,3]]]);